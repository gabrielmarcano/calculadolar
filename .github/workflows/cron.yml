name: Update Rates Cron

on:
  schedule:
    # 9:10 AM and 1:10 PM (GMT-4)
    - cron: "10 13,17 * * *"
  workflow_dispatch:

jobs:
  cron:
    runs-on: ubuntu-latest
    steps:
      - name: Call API Route
        run: |
          curl -X GET ${{ secrets.PRODUCTION_URL }}/api/cron/update-rates \
          -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}" \
          -H "User-Agent: GitHub-Action" \
          --fail
